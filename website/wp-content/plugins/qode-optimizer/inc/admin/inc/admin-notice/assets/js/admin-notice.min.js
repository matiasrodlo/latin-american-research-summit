!function(o){"use strict";o(document).ready(function(){e.init()});var e={init:function(){this.deactivationLink=o("#the-list").find('[data-slug="qode-optimizer"] span.deactivate a'),this.deactivationModal=o("#qode-optimizer-deactivation-modal"),this.deactivationLink.length&&this.deactivationModal.length&&this.initModal()},initModal:function(){this.deactivationLink.on("click",function(i){i.preventDefault(),e.deactivationModal.fadeIn("fast")}),this.enableModalCloseFunctionality(),this.initSubmitFunctionality(),this.initSkipFunctionality()},enableSubmitButton:function(){var i=this.deactivationModal.find('input[name="reason_key"]'),t=this.deactivationModal.find(".qodef-deactivation-modal-button-submit");i.on("change",function(){t.removeClass("qodef--disabled")})},initSubmitFunctionality:function(){var t=this.deactivationModal.find(".qodef-deactivation-modal-button-submit"),a=this.deactivationModal.find(".qodef-deactivation-modal-button-skip"),n=this.deactivationModal.find("#qode-optimizer-deactivation-nonce");t.length&&t.on("click",function(i){i.preventDefault(),t.addClass("qodef--processing"),a.addClass("qodef--disabled");i=e.deactivationModal.find('input[name="reason_key"]:checked').val();o.ajax({type:"POST",data:{action:"qode_optimizer_deactivation",reason:i,additionalInfo:e.getAdditionalInfo(i),nonce:n.val()},url:ajaxurl,success:function(){e.deactivatePlugin()}})})},getAdditionalInfo:function(i){var t="";switch(i){case"found_a_better_plugin":t=e.deactivationModal.find('input[name="reason_found_a_better_plugin"]').val();break;case"other":t=e.deactivationModal.find('input[name="reason_other"]').val()}return t},initSkipFunctionality:function(){var t=this.deactivationModal.find(".qodef-deactivation-modal-button-submit"),a=this.deactivationModal.find(".qodef-deactivation-modal-button-skip");a.length&&a.on("click",function(i){i.preventDefault(),a.addClass("qodef--processing"),t.addClass("qodef--disabled"),e.deactivatePlugin()})},deactivatePlugin:function(){location.href=this.deactivationLink.attr("href")},enableModalCloseFunctionality:function(){var i=this.deactivationModal.find(".qodef-deactivation-modal-close");i.length&&i.on("click",function(i){i.preventDefault(),e.deactivationModal.fadeOut("fast")})}}}(jQuery);